<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Image Align Tool</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #ffffff;
      --text: #111111;
      --muted: #888888;
      --border: #dddddd;
      --accent: #2563eb;
      --accent-soft: rgba(37, 99, 235, 0.08);
      --radius: 10px;
    }

    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
    }

    body {
      margin: 0;
      padding: 12px;
      background: var(--bg);
      color: var(--text);
      font-size: 12px;
    }

    .card {
      border-radius: var(--radius);
      border: 1px solid var(--border);
      padding: 10px;
    }

    .tabs {
      display: flex;
      gap: 6px;
      margin-bottom: 10px;
    }

    .tab-btn {
      flex: 1;
      border-radius: 20px;
      border: 1px solid var(--border);
      background: #f5f5f5;
      padding: 6px 8px;
      font-size: 12px;
      cursor: pointer;
      text-align: center;
      transition: background 0.15s, border-color 0.15s, color 0.15s;
      color: #000;
    }

    .tab-btn.active {
      background: var(--accent-soft);
      border-color: var(--accent);
      color: #000;
      font-weight: 600;
    }

    .tab-content {
      display: none;
      margin-top: 6px;
    }

    .tab-content.active {
      display: block;
    }

    h2 {
      margin: 0 0 8px 0;
      font-size: 13px;
      font-weight: 600;
    }

    form {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .field-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 6px;
    }

    .field-row label {
      font-size: 11px;
      color: var(--muted);
      white-space: nowrap;
    }

    .field-row > *:last-child {
      flex: 1;
    }

    .inputs-inline {
      display: flex;
      gap: 6px;
    }

    .inputs-inline > div {
      flex: 1;
    }

    input[type="number"],
    select {
      width: 100%;
      padding: 4px 6px;
      font-size: 12px;
      border-radius: 6px;
      border: 1px solid var(--border);
      background: #fff;
      color: var(--text);
    }

    input[type="number"]::-webkit-outer-spin-button,
    input[type="number"]::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    input[type="number"] {
      -moz-appearance: textfield;
    }

    .radio-row {
      display: flex;
      gap: 8px;
      font-size: 11px;
      color: var(--muted);
    }

    .radio-row label {
      display: flex;
      align-items: center;
      gap: 3px;
      cursor: pointer;
    }

    .btn-primary {
      width: 100%;
      padding: 7px 10px;
      font-size: 12px;
      border-radius: 999px;
      border: none;
      background: var(--accent);
      color: #ffffff;
      font-weight: 600;
      cursor: pointer;
      margin-top: 4px;
    }

    .btn-primary:disabled {
      opacity: 0.5;
      cursor: default;
    }

    .file-picker {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-top: 2px;
    }

    .file-btn {
      padding: 5px 10px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: #f5f5f5;
      cursor: pointer;
      font-size: 12px;
    }

    .file-label {
      font-size: 11px;
      color: var(--muted);
      flex: 1;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .checkbox-row {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      margin-top: 4px;
    }

    .checkbox-row input[type="checkbox"] {
      width: 14px;
      height: 14px;
      accent-color: var(--accent);
      cursor: pointer;
    }

    .checkbox-row span {
      cursor: pointer;
      font-size: 11px;
      color: var(--text);
    }

    .progress-container {
      margin-top: 8px;
    }

    .progress-bar-outer {
      width: 100%;
      height: 6px;
      border-radius: 999px;
      background: #f3f3f3;
      overflow: hidden;
      border: 1px solid #e0e0e0;
    }

    .progress-bar-inner {
      width: 0%;
      height: 100%;
      background: var(--accent);
      border-radius: 999px;
      transition: width 0.15s linear;
    }

    .progress-text-main,
    .progress-text-eta {
      text-align: center;
      margin-top: 4px;
      font-size: 11px;
      color: var(--text);
    }

    .progress-text-main {
      font-weight: 600;
    }
  </style>
</head>
<body>
  <div class="card">
    <div class="tabs">
      <button type="button" class="tab-btn" data-tab="sorting">Sorting</button>
      <button type="button" class="tab-btn" data-tab="stitch">Stitch / Slice</button>
    </div>

    <!-- SORTING TAB -->
    <div id="tab-sorting" class="tab-content">
      <h2>Align selection</h2>
      <form id="sorting-form">
        <div class="field-row">
          <label for="sortingImagesPerRow">Rows</label>
          <input
            id="sortingImagesPerRow"
            name="sortingImagesPerRow"
            type="number"
            min="1"
            value="8"
          />
        </div>

        <div class="inputs-inline">
          <div>
            <div class="field-row">
              <label for="sortingHorizontalGap">Gap X</label>
              <input
                id="sortingHorizontalGap"
                name="sortingHorizontalGap"
                type="number"
                value="0"
              />
            </div>
          </div>
          <div>
            <div class="field-row">
              <label for="sortingVerticalGap">Gap Y</label>
              <input
                id="sortingVerticalGap"
                name="sortingVerticalGap"
                type="number"
                value="0"
              />
            </div>
          </div>
        </div>

        <div class="field-row">
          <label>Resize</label>
          <div class="radio-row">
            <label>
              <input
                type="radio"
                name="sortingSizeMode"
                value="none"
                checked
              />
              none
            </label>
            <label>
              <input type="radio" name="sortingSizeMode" value="width" />
              width
            </label>
            <label>
              <input type="radio" name="sortingSizeMode" value="height" />
              height
            </label>
          </div>
        </div>

        <div class="field-row">
          <label for="sortingStartCorner">Start corner</label>
          <select id="sortingStartCorner" name="sortingStartCorner">
            <option value="top-left">Top left</option>
            <option value="top-right">Top right</option>
            <option value="bottom-left">Bottom left</option>
            <option value="bottom-right">Bottom right</option>
          </select>
        </div>

        <div class="field-row">
          <label for="sortingSortMode">Sort by</label>
          <select id="sortingSortMode" name="sortingSortMode">
            <option value="number">Number</option>
            <option value="color">Color</option>
          </select>
        </div>

        <button type="submit" class="btn-primary">Align selection</button>
      </form>
    </div>

    <!-- STITCH / SLICE TAB -->
    <div id="tab-stitch" class="tab-content">
      <h2>Import images</h2>
      <form id="stitch-form">
        <div class="field-row">
          <label for="stitchImagesPerRow">Rows</label>
          <input
            id="stitchImagesPerRow"
            name="stitchImagesPerRow"
            type="number"
            min="1"
            value="8"
          />
        </div>

        <div class="field-row">
          <label for="stitchStartCorner">Start corner</label>
          <select id="stitchStartCorner" name="stitchStartCorner">
            <option value="top-left">Top left</option>
            <option value="top-right">Top right</option>
            <option value="bottom-left">Bottom left</option>
            <option value="bottom-right">Bottom right</option>
          </select>
        </div>

        <div class="file-picker">
          <button type="button" id="stitchFileButton" class="file-btn">
            Select files
          </button>
          <span id="stitchFileLabel" class="file-label">No files selected</span>
          <input
            id="stitchFolderInput"
            type="file"
            multiple
            style="display: none"
            accept="image/*"
          />
        </div>

        <label class="checkbox-row">
          <input id="stitchSkipMissing" type="checkbox" />
          <span>Skip missing tiles</span>
        </label>

        <button
          type="submit"
          id="stitchButton"
          class="btn-primary"
          style="margin-top: 6px"
        >
          Stitch / Slice
        </button>

        <div class="progress-container">
          <div class="progress-bar-outer">
            <div
              id="stitchProgressBar"
              class="progress-bar-inner"
            ></div>
          </div>
          <div
            id="stitchProgressMain"
            class="progress-text-main"
          ></div>
          <div
            id="stitchProgressEta"
            class="progress-text-eta"
          ></div>
        </div>
      </form>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
